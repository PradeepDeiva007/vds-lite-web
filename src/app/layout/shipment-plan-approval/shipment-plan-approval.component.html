<ngx-spinner bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#fff" type="ball-spin-clockwise" [fullScreen]="true">
    <p style="color: white"> Loading... </p>
  </ngx-spinner>
<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a [routerLink]="['/home']"><i class="pi pi-home"></i></a></li>
        <li class="breadcrumb-item active" aria-current="page">Shipmentplan Approval</li>
    </ol>
</nav>

<!-- summary chart -->
<div *ngIf="this.shipmentplano.length>0;" >
<div>
    <div class="p-text-left p-px-3 p-py-2">
        <!-- <a [routerLink]="['/summarychartplan1']" [queryParams]="{planNo:value,screenType:'Approval'} ">Summary Chart 1</a> -->
        <a (click)= "moveToSummaryChartPlan('SummaryChartPlan1')" class="lookclr">Summary Chart 1</a>
    </div>
    <div class="p-text-left p-px-3 p-py-1">
        <!-- <a [routerLink]="['/summarychartplan2']" [queryParams]="{planNo:value,screenType:'Approval'}">Summary Chart 2</a> -->
        <a (click)= "moveToSummaryChartPlan('SummaryChartPlan2')" class="lookclr">Summary Chart 2</a>
    </div>
  <!-- Table Display -->
   <div class="card p-mx-5 p-mt-3 table">
        <p-table [(selection)]="value" [value]="shipmentplano" styleClass="p-datatable-sm p-datatable-gridlines p-datatable-striped"
            [scrollable]="true" scrollHeight="420px" [rows]="10" [pageLinks]="3" [paginator]="true"
            paginatorPosition="top">
            <ng-template pTemplate="colgroup" let-columns>
                <colgroup>
                    <col style="width: 100px;">
                    <col style="width: 60px;">
                </colgroup>
            </ng-template>
            <ng-template pTemplate="header">
                <tr>
                    <th>
                        <div  [style]="tableWidth" class="p-px-3 p-pt-3 p-pb-0">
                            <span  class="p-text-bold">ShipmentPlan </span>
                        </div>
                    </th>
                    <th>
                        <div  [style]="tableWidth" class="p-px-3 p-pt-3 p-pb-0">
                            <span  class="p-text-bold">Select </span>
                        </div>
                    </th>
                </tr>
                <tr>
                    <th style="background-color: #ffffff;">
                        <div class="p-px-3 p-pt-3 p-pb-0">
                            <span class="p-text-bold">Select ALL </span>
                        </div>
                    </th>
                    <th style="width: 3rem; background-color:#ffffff">
                        <p-tableHeaderCheckbox (click)="select()"></p-tableHeaderCheckbox>
                    </th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-row>
                <tr>
                    <td>{{row}}</td>
                    <td>
                        <p-tableCheckbox [value]="row" (click) ="select()"></p-tableCheckbox>
                       
                    </td>
                </tr>
            </ng-template>
        </p-table>
        <div id="wrapper">
            <textarea pInputTextarea [(ngModel)]="approvalcomment">
            </textarea>
            <label class="p-mx-2 appcmt p-mt-2" >Approval Comments<span style="color: red;">*</span></label>  
        </div>
        <div class="p-d-flex p-jc-center p-my-3">
        <button [ngClass] = "{'view':userRole === 'C'}" pButton pRipple label="Approve"  (click)="approveshipmentplan()" class="p-ml-2 p-mr-5 colour" ></button>
        <button pButton pRipple label="Reject"  (click)="RejectShipementPlan()" class ="colour"></button>
        </div>
    
</div>
</div>
</div>

<div *ngIf="test==true">
    <h6 style="text-align: center; color: lightcoral;"> There is no Shipment Plan waiting for Approval</h6>
</div>
<div>
    <h6 style="text-align: center; color: lightcoral;"> {{this.errorMsg}} </h6>
</div>